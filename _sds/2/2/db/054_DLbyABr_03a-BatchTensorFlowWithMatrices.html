<!DOCTYPE html>
<html>
<head>
  <meta name="databricks-html-version" content="1">
<title>054_DLbyABr_03a-BatchTensorFlowWithMatrices - Databricks</title>

<meta charset="utf-8">
<meta name="google" content="notranslate">
<meta name="robots" content="nofollow">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">

<link rel="stylesheet" type="text/css" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/467e3564399e98c628437b8bb4b93281958239d3482861867f6e49fb92858fe3/lib/css/source_code_pro.css">
<link rel="stylesheet" type="text/css" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/467e3564399e98c628437b8bb4b93281958239d3482861867f6e49fb92858fe3/lib/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/467e3564399e98c628437b8bb4b93281958239d3482861867f6e49fb92858fe3/lib/jquery-ui-bundle/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/467e3564399e98c628437b8bb4b93281958239d3482861867f6e49fb92858fe3/css/main.css">
<link rel="stylesheet" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/467e3564399e98c628437b8bb4b93281958239d3482861867f6e49fb92858fe3/css/print.css" media="print">
<link rel="icon" type="image/png" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/467e3564399e98c628437b8bb4b93281958239d3482861867f6e49fb92858fe3/img/favicon.ico"/>
<script>window.settings = {"enableNotebookNotifications":true,"enableSshKeyUI":false,"defaultInteractivePricePerDBU":0.4,"enableClusterMetricsUI":true,"useReactTableCreateView":true,"enableOnDemandClusterType":true,"enableAutoCompleteAsYouType":[],"devTierName":"Community Edition","enableJobsPrefetching":true,"workspaceFeaturedLinks":[{"linkURI":"https://docs.databricks.com/index.html","displayName":"Documentation","icon":"question"},{"linkURI":"https://docs.databricks.com/release-notes/product/index.html","displayName":"Release Notes","icon":"code"},{"linkURI":"https://docs.databricks.com/spark/latest/training/index.html","displayName":"Training & Tutorials","icon":"graduation-cap"}],"enableReservoirTableUI":false,"enableClearStateFeature":true,"dbcForumURL":"http://forums.databricks.com/","enableProtoClusterInfoDeltaPublisher":true,"enableAttachExistingCluster":true,"resetJobListOnConnect":true,"serverlessDefaultSparkVersion":"latest-stable-scala2.11","maxCustomTags":45,"serverlessDefaultMaxWorkers":20,"enableInstanceProfilesUIInJobs":true,"nodeInfo":{"node_types":[{"support_ssh":false,"spark_heap_memory":4800,"instance_type_id":"r3.2xlarge","spark_core_oversubscription_factor":8.0,"node_type_id":"dev-tier-node","description":"Community Optimized","support_cluster_tags":false,"container_memory_mb":6000,"node_instance_type":{"instance_type_id":"r3.2xlarge","provider":"AWS","local_disk_size_gb":160,"compute_units":26.0,"number_of_ips":14,"local_disks":1,"reserved_compute_units":3.64,"gpus":0,"memory_mb":62464,"num_cores":8,"local_disk_type":"AHCI","max_attachable_disks":0,"supported_disk_types":[{"ebs_volume_type":"GENERAL_PURPOSE_SSD"},{"ebs_volume_type":"THROUGHPUT_OPTIMIZED_HDD"}],"reserved_memory_mb":4800},"memory_mb":6144,"is_hidden":false,"category":"Community Edition","num_cores":0.88,"support_port_forwarding":false,"support_ebs_volumes":false,"is_deprecated":false}],"default_node_type_id":"dev-tier-node"},"sqlAclsDisabledMap":{"spark.databricks.acl.enabled":"false","spark.databricks.acl.sqlOnly":"false"},"enableDatabaseSupportClusterChoice":true,"enableClusterAcls":true,"notebookRevisionVisibilityHorizon":999999,"serverlessClusterProductName":"Serverless Pool","showS3TableImportOption":true,"maxEbsVolumesPerInstance":10,"isAdmin":true,"deltaProcessingBatchSize":1000,"timerUpdateQueueLength":100,"sqlAclsEnabledMap":{"spark.databricks.acl.enabled":"true","spark.databricks.acl.sqlOnly":"true"},"enableLargeResultDownload":true,"maxElasticDiskCapacityGB":5000,"serverlessDefaultMinWorkers":2,"zoneInfos":[{"id":"us-west-2c","isDefault":true},{"id":"us-west-2b","isDefault":false},{"id":"us-west-2a","isDefault":false}],"enableCustomSpotPricingUIByTier":false,"serverlessClustersEnabled":false,"enableFindAndReplace":true,"disallowUrlImportExceptFromDocs":false,"defaultStandardClusterModel":{"cluster_name":"","node_type_id":"dev-tier-node","spark_version":"3.4.x-scala2.11","num_workers":0,"aws_attributes":{"first_on_demand":0,"availability":"ON_DEMAND","zone_id":"us-west-2c","spot_bid_price_percent":100},"autotermination_minutes":120,"default_tags":{"Vendor":"Databricks","Creator":"r.sainudiin@math.canterbury.ac.nz","ClusterName":null,"ClusterId":"<Generated after creation>"}},"enableEBSVolumesUIForJobs":true,"enablePublishNotebooks":true,"enableBitbucketCloud":true,"createTableInNotebookS3Link":{"url":"https://docs.databricks.com/_static/notebooks/data-import/s3.html","displayName":"S3","workspaceFileName":"S3 Example"},"sanitizeHtmlResult":true,"enableJobAclsConfig":false,"enableFullTextSearch":false,"enableElasticSparkUI":false,"enableNewClustersCreate":true,"clusters":true,"allowRunOnPendingClusters":true,"useAutoscalingByDefault":false,"enableAzureToolbar":false,"fileStoreBase":"FileStore","enableEmailInAzure":false,"enableRLibraries":true,"enableTableAclsConfig":false,"enableSshKeyUIInJobs":true,"enableDetachAndAttachSubMenu":true,"configurableSparkOptionsSpec":[{"keyPattern":"spark\\.kryo(\\.[^\\.]+)+","valuePattern":".*","keyPatternDisplay":"spark.kryo.*","valuePatternDisplay":"*","description":"Configuration options for Kryo serialization"},{"keyPattern":"spark\\.io\\.compression\\.codec","valuePattern":"(lzf|snappy|org\\.apache\\.spark\\.io\\.LZFCompressionCodec|org\\.apache\\.spark\\.io\\.SnappyCompressionCodec)","keyPatternDisplay":"spark.io.compression.codec","valuePatternDisplay":"snappy|lzf","description":"The codec used to compress internal data such as RDD partitions, broadcast variables and shuffle outputs."},{"keyPattern":"spark\\.serializer","valuePattern":"(org\\.apache\\.spark\\.serializer\\.JavaSerializer|org\\.apache\\.spark\\.serializer\\.KryoSerializer)","keyPatternDisplay":"spark.serializer","valuePatternDisplay":"org.apache.spark.serializer.JavaSerializer|org.apache.spark.serializer.KryoSerializer","description":"Class to use for serializing objects that will be sent over the network or need to be cached in serialized form."},{"keyPattern":"spark\\.rdd\\.compress","valuePattern":"(true|false)","keyPatternDisplay":"spark.rdd.compress","valuePatternDisplay":"true|false","description":"Whether to compress serialized RDD partitions (e.g. for StorageLevel.MEMORY_ONLY_SER). Can save substantial space at the cost of some extra CPU time."},{"keyPattern":"spark\\.speculation","valuePattern":"(true|false)","keyPatternDisplay":"spark.speculation","valuePatternDisplay":"true|false","description":"Whether to use speculation (recommended off for streaming)"},{"keyPattern":"spark\\.es(\\.[^\\.]+)+","valuePattern":".*","keyPatternDisplay":"spark.es.*","valuePatternDisplay":"*","description":"Configuration options for ElasticSearch"},{"keyPattern":"es(\\.([^\\.]+))+","valuePattern":".*","keyPatternDisplay":"es.*","valuePatternDisplay":"*","description":"Configuration options for ElasticSearch"},{"keyPattern":"spark\\.(storage|shuffle)\\.memoryFraction","valuePattern":"0?\\.0*([1-9])([0-9])*","keyPatternDisplay":"spark.(storage|shuffle).memoryFraction","valuePatternDisplay":"(0.0,1.0)","description":"Fraction of Java heap to use for Spark's shuffle or storage"},{"keyPattern":"spark\\.streaming\\.backpressure\\.enabled","valuePattern":"(true|false)","keyPatternDisplay":"spark.streaming.backpressure.enabled","valuePatternDisplay":"true|false","description":"Enables or disables Spark Streaming's internal backpressure mechanism (since 1.5). This enables the Spark Streaming to control the receiving rate based on the current batch scheduling delays and processing times so that the system receives only as fast as the system can process. Internally, this dynamically sets the maximum receiving rate of receivers. This rate is upper bounded by the values `spark.streaming.receiver.maxRate` and `spark.streaming.kafka.maxRatePerPartition` if they are set."},{"keyPattern":"spark\\.streaming\\.receiver\\.maxRate","valuePattern":"^([0-9]{1,})$","keyPatternDisplay":"spark.streaming.receiver.maxRate","valuePatternDisplay":"numeric","description":"Maximum rate (number of records per second) at which each receiver will receive data. Effectively, each stream will consume at most this number of records per second. Setting this configuration to 0 or a negative number will put no limit on the rate. See the deployment guide in the Spark Streaming programing guide for mode details."},{"keyPattern":"spark\\.streaming\\.kafka\\.maxRatePerPartition","valuePattern":"^([0-9]{1,})$","keyPatternDisplay":"spark.streaming.kafka.maxRatePerPartition","valuePatternDisplay":"numeric","description":"Maximum rate (number of records per second) at which data will be read from each Kafka partition when using the Kafka direct stream API introduced in Spark 1.3. See the Kafka Integration guide for more details."},{"keyPattern":"spark\\.streaming\\.kafka\\.maxRetries","valuePattern":"^([0-9]{1,})$","keyPatternDisplay":"spark.streaming.kafka.maxRetries","valuePatternDisplay":"numeric","description":"Maximum number of consecutive retries the driver will make in order to find the latest offsets on the leader of each partition (a default value of 1 means that the driver will make a maximum of 2 attempts). Only applies to the Kafka direct stream API introduced in Spark 1.3."},{"keyPattern":"spark\\.streaming\\.ui\\.retainedBatches","valuePattern":"^([0-9]{1,})$","keyPatternDisplay":"spark.streaming.ui.retainedBatches","valuePatternDisplay":"numeric","description":"How many batches the Spark Streaming UI and status APIs remember before garbage collecting."}],"enableReactNotebookComments":true,"enableAdminPasswordReset":false,"checkBeforeAddingAadUser":false,"enableResetPassword":true,"maxClusterTagValueLength":255,"enableJobsSparkUpgrade":true,"createTableInNotebookDBFSLink":{"url":"https://docs.databricks.com/_static/notebooks/data-import/dbfs.html","displayName":"DBFS","workspaceFileName":"DBFS Example"},"perClusterAutoterminationEnabled":false,"enableNotebookCommandNumbers":true,"allowStyleInSanitizedHtml":true,"sparkVersions":[{"key":"1.6.3-db2-hadoop2-scala2.10","displayName":"Spark 1.6.3-db2 (Hadoop 2, Scala 2.10)","packageLabel":"spark-image-aba860a0ffce4f3471fb14aefdcb1d768ac66a53a5ad884c48745ef98aeb9d67","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"3.3.x-gpu-scala2.11","displayName":"3.3 (includes Apache Spark 2.2.0, GPU, Scala 2.11)","packageLabel":"spark-image-280a8d41cd338f5b48d43eb87622c542c6e6584c430f6d3afe8f3401b9607cb9","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.1.1-db5-scala2.11","displayName":"Spark 2.1.1-db5 (Scala 2.11)","packageLabel":"spark-image-08d9fc1551087e0876236f19640c4a83116b1649f15137427d21c9056656e80e","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"1.6.x-ubuntu15.10","displayName":"Spark 1.6.x (Hadoop 1)","packageLabel":"spark-image-8cea23fb9094e174bf5815d79009f4a8e383eb86cf2909cf6c6434ed8da2a16a","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"3.3.x-scala2.10","displayName":"3.3 (includes Apache Spark 2.2.0, Scala 2.10)","packageLabel":"spark-image-dd410c68e21c3c563ad6128d35705b605d70530124d55aff1dd12d7e15adfa20","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"1.4.x-ubuntu15.10","displayName":"Spark 1.4.1 (Hadoop 1, deprecated)","packageLabel":"spark-image-f710650fb8aaade8e4e812368ea87c45cd8cd0b5e6894ca6c94f3354e8daa6dc","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"2.2.x-scala2.11","displayName":"3.0 (includes Apache Spark 2.2.0, Scala 2.11)","packageLabel":"spark-image-67ab3a06d1e83d5b60df7063245eb419a2e9fe329aeeb7e7d9713332c669bb17","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.1.1-db6-scala2.10","displayName":"Spark 2.1.1-db6 (Scala 2.10)","packageLabel":"spark-image-177f3f02a6a3432d30068332dc857b9161345bdd2ee8a2d2de05bb05cb4b0f4c","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.1.0-db2-scala2.11","displayName":"Spark 2.1.0-db2 (Scala 2.11)","packageLabel":"spark-image-267c4490a3ab8a39acdbbd9f1d36f6decdecebf013e30dd677faff50f1d9cf8b","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"2.1.x-gpu-scala2.11","displayName":"Spark 2.1 (Auto-updating, GPU, Scala 2.11 experimental)","packageLabel":"spark-image-d613235f93e0f29838beb2079a958c02a192ed67a502192bc67a8a5f2fb37f35","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"2.0.0-ubuntu15.10-scala2.10","displayName":"Spark 2.0.0 (Scala 2.10)","packageLabel":"spark-image-073c1b52ace74f251fae2680624a0d8d184a8b57096d1c21c5ce56c29be6a37a","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"latest-stable-gpu-scala2.11","displayName":"Latest stable (3.4, GPU, Scala 2.11)","packageLabel":"spark-image-37187b31ba621f461e678f675c75b7cbd648a88c82f6c9166e4ecfe736bb19ca","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"3.4.x-scala2.11","displayName":"3.4 (includes Apache Spark 2.2.0, Scala 2.11)","packageLabel":"spark-image-eaad6d9eded5a6d71516d66e25f28cfa9068b6fcd36254ca08f14b586396ae68","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.0.2-db3-scala2.10","displayName":"Spark 2.0.2-db3 (Scala 2.10)","packageLabel":"spark-image-584091dedb690de20e8cf22d9e02fdcce1281edda99eedb441a418d50e28088f","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"3.2.x-scala2.10","displayName":"3.2 (includes Apache Spark 2.2.0, Scala 2.10)","packageLabel":"spark-image-557788bea0eea16bbf7a8ba13ace07e64dd7fc86270bd5cea086097fe886431f","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"latest-experimental-scala2.10","displayName":"Latest experimental (3.6 snapshot, Scala 2.10)","packageLabel":"spark-image-3f8d4bb732a18e8538f841eed02962bea0e92681900e23e72c13dffeacdbc7f2","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.1.0-db1-scala2.11","displayName":"Spark 2.1.0-db1 (Scala 2.11)","packageLabel":"spark-image-e8ad5b72cf0f899dcf2b4720c1f572ab0e87a311d6113b943b4e1d4a7edb77eb","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.1.1-db4-scala2.11","displayName":"Spark 2.1.1-db4 (Scala 2.11)","packageLabel":"spark-image-52bca0ca866e3f4243d3820a783abf3b9b3b553edf234abef14b892657ceaca9","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"latest-rc-scala2.11","displayName":"Latest RC (3.5, Scala 2.11)","packageLabel":"spark-image-023edce5438a58a3ac6acd2f6636a9ef738d0a9af87bcc743f6fc95a3b77633a","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"latest-stable-scala2.11","displayName":"Latest stable (3.4, Scala 2.11)","packageLabel":"spark-image-eaad6d9eded5a6d71516d66e25f28cfa9068b6fcd36254ca08f14b586396ae68","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.1.0-db2-scala2.10","displayName":"Spark 2.1.0-db2 (Scala 2.10)","packageLabel":"spark-image-a2ca4f6b58c95f78dca91b1340305ab3fe32673bd894da2fa8e1dc8a9f8d0478","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"1.6.x-ubuntu15.10-hadoop1","displayName":"Spark 1.6.x (Hadoop 1)","packageLabel":"spark-image-8cea23fb9094e174bf5815d79009f4a8e383eb86cf2909cf6c6434ed8da2a16a","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"2.0.2-db4-scala2.11","displayName":"Spark 2.0.2-db4 (Scala 2.11)","packageLabel":"spark-image-7dbc7583e8271765b8a1508cb9e832768e35489bbde2c4c790bc6766aee2fd7f","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"1.6.1-ubuntu15.10-hadoop1","displayName":"Spark 1.6.1 (Hadoop 1)","packageLabel":"spark-image-21d1cac181b7b8856dd1b4214a3a734f95b5289089349db9d9c926cb87d843db","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.0.x-gpu-scala2.11","displayName":"Spark 2.0 (Auto-updating, GPU, Scala 2.11 experimental)","packageLabel":"spark-image-968b89f1d0ec32e1ee4dacd04838cae25ef44370a441224177a37980d539d83a","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"1.6.2-ubuntu15.10-hadoop1","displayName":"Spark 1.6.2 (Hadoop 1)","packageLabel":"spark-image-8cea23fb9094e174bf5815d79009f4a8e383eb86cf2909cf6c6434ed8da2a16a","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"next-major-version-scala2.11","displayName":"Next major version (4.0 snapshot, Scala 2.11)","packageLabel":"spark-image-38f262bcc80fcdac842b1eb38b553e950b1a471c587484440fbdc53aeb1b9ac9","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"1.6.3-db1-hadoop2-scala2.10","displayName":"Spark 1.6.3-db1 (Hadoop 2, Scala 2.10)","packageLabel":"spark-image-eaa8d9b990015a14e032fb2e2e15be0b8d5af9627cd01d855df728b67969d5d9","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"1.6.3-db2-hadoop1-scala2.10","displayName":"Spark 1.6.3-db2 (Hadoop 1, Scala 2.10)","packageLabel":"spark-image-14112ea0645bea94333a571a150819ce85573cf5541167d905b7e6588645cf3b","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"3.5.x-scala2.10","displayName":"3.5 beta (Scala 2.10)","packageLabel":"spark-image-0975e1a9e132c605c16eb1dfc3c84cf517da7a422e6e63d22e3176f96dfd4791","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"1.6.2-ubuntu15.10-hadoop2","displayName":"Spark 1.6.2 (Hadoop 2)","packageLabel":"spark-image-161245e66d887cd775e23286a54bab0b146143e1289f25bd1732beac454a1561","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"1.6.1-ubuntu15.10-hadoop2","displayName":"Spark 1.6.1 (Hadoop 2)","packageLabel":"spark-image-4cafdf8bc6cba8edad12f441e3b3f0a8ea27da35c896bc8290e16b41fd15496a","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.0.2-db2-scala2.10","displayName":"Spark 2.0.2-db2 (Scala 2.10)","packageLabel":"spark-image-36d48f22cca7a907538e07df71847dd22aaf84a852c2eeea2dcefe24c681602f","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.0.x-ubuntu15.10-scala2.11","displayName":"Spark 2.0 (Ubuntu 15.10, Scala 2.11, deprecated)","packageLabel":"spark-image-8e1c50d626a52eac5a6c8129e09ae206ba9890f4523775f77af4ad6d99a64c44","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.0.x-scala2.10","displayName":"Spark 2.0 (Auto-updating, Scala 2.10)","packageLabel":"spark-image-859e88079f97f58d50e25163b39a1943d1eeac0b6939c5a65faba986477e311a","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"2.1.1-db4-scala2.10","displayName":"Spark 2.1.1-db4 (Scala 2.10)","packageLabel":"spark-image-c7c0224de396cd1563addc1ae4bca6ba823780b6babe6c3729ddf73008f29ba4","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"latest-rc-scala2.10","displayName":"Latest RC (3.5, Scala 2.10)","packageLabel":"spark-image-0975e1a9e132c605c16eb1dfc3c84cf517da7a422e6e63d22e3176f96dfd4791","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"latest-stable-scala2.10","displayName":"Latest stable (3.4, Scala 2.10)","packageLabel":"spark-image-71dd3f95aa2d38fc2553ef5098fe40ee673c2562bfc3ec415b4adfbf587e8ae7","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.0.2-db1-scala2.11","displayName":"Spark 2.0.2-db1 (Scala 2.11)","packageLabel":"spark-image-c2d623f03dd44097493c01aa54a941fc31978ebe6d759b36c75b716b2ff6ab9c","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.0.2-db4-scala2.10","displayName":"Spark 2.0.2-db4 (Scala 2.10)","packageLabel":"spark-image-859e88079f97f58d50e25163b39a1943d1eeac0b6939c5a65faba986477e311a","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"2.1.1-db5-scala2.10","displayName":"Spark 2.1.1-db5 (Scala 2.10)","packageLabel":"spark-image-74133df2c13950431298d1cab3e865c191d83ac33648a8590495c52fc644c654","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"3.4.x-gpu-scala2.11","displayName":"3.4 (includes Apache Spark 2.2.0, GPU, Scala 2.11)","packageLabel":"spark-image-37187b31ba621f461e678f675c75b7cbd648a88c82f6c9166e4ecfe736bb19ca","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"1.5.x-ubuntu15.10","displayName":"Spark 1.5.2 (Hadoop 1, deprecated)","packageLabel":"spark-image-c9d2a8abf41f157a4acc6d52bc721090346f6fea2de356f3a66e388f54481698","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"latest-experimental-gpu-scala2.11","displayName":"Latest experimental (3.6 snapshot, GPU, Scala 2.11)","packageLabel":"spark-image-d0496a2d47c3d7469ab2e36d580e11a440805ccfe48377119e3489cb84270d40","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"2.2.x-scala2.10","displayName":"3.0 (includes Apache Spark 2.2.0, Scala 2.10)","packageLabel":"spark-image-d549f2d4a523994ecdf37e531b51d5ec7d8be51534bb0ca5322eaad28ba8f557","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"3.0.x-scala2.11","displayName":"3.0 (includes Apache Spark 2.2.0, Scala 2.11)","packageLabel":"spark-image-67ab3a06d1e83d5b60df7063245eb419a2e9fe329aeeb7e7d9713332c669bb17","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.0.x-scala2.11","displayName":"Spark 2.0 (Auto-updating, Scala 2.11)","packageLabel":"spark-image-7dbc7583e8271765b8a1508cb9e832768e35489bbde2c4c790bc6766aee2fd7f","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"2.1.x-scala2.10","displayName":"Spark 2.1 (Auto-updating, Scala 2.10)","packageLabel":"spark-image-177f3f02a6a3432d30068332dc857b9161345bdd2ee8a2d2de05bb05cb4b0f4c","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"3.1.x-scala2.11","displayName":"3.1 (includes Apache Spark 2.2.0, Scala 2.11)","packageLabel":"spark-image-241fa8b78ee6343242b1756b18076270894385ff40a81172a6fb5eadf66155d3","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"2.1.0-db3-scala2.10","displayName":"Spark 2.1.0-db3 (Scala 2.10)","packageLabel":"spark-image-25a17d070af155f10c4232dcc6248e36a2eb48c24f8d4fc00f34041b86bd1626","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.0.2-db2-scala2.11","displayName":"Spark 2.0.2-db2 (Scala 2.11)","packageLabel":"spark-image-4fa852ba378e97815083b96c9cada7b962a513ec23554a5fc849f7f1dd8c065a","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"3.1.x-scala2.10","displayName":"3.1 (includes Apache Spark 2.2.0, Scala 2.10)","packageLabel":"spark-image-7efac6b9a8f2da59cb4f6d0caac46cfcb3f1ebf64c8073498c42d0360f846714","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"3.3.x-scala2.11","displayName":"3.3 (includes Apache Spark 2.2.0, Scala 2.11)","packageLabel":"spark-image-73a161da0570b3f51c8eb238602af2f5561789ea80b25c69a48691fc84e2d974","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"next-major-version-gpu-scala2.11","displayName":"Next major version (4.0 snapshot, GPU, Scala 2.11)","packageLabel":"spark-image-22b48104add218c9be353860d8aa60b00732311f1707cb77c497098111dc99f3","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"3.5.x-gpu-scala2.11","displayName":"3.5 beta (GPU, Scala 2.11)","packageLabel":"spark-image-93161a84de672607bc616292a67c710ffdcbf4d5f72cb9d58b270abaa296e616","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"1.3.x-ubuntu15.10","displayName":"Spark 1.3.0 (Hadoop 1, deprecated)","packageLabel":"spark-image-40d2842670bc3dc178b14042501847d76171437ccf70613fa397a7a24c48b912","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"2.0.1-db1-scala2.11","displayName":"Spark 2.0.1-db1 (Scala 2.11)","packageLabel":"spark-image-10ab19f634bbfdb860446c326a9f76dc25bfa87de6403b980566279142a289ea","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.0.2-db3-scala2.11","displayName":"Spark 2.0.2-db3 (Scala 2.11)","packageLabel":"spark-image-7fd7aaa89d55692e429115ae7eac3b1a1dc4de705d50510995f34306b39c2397","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"2.1.1-db6-scala2.11","displayName":"Spark 2.1.1-db6 (Scala 2.11)","packageLabel":"spark-image-fdad9ef557700d7a8b6bde86feccbcc3c71d1acdc838b0fd299bd19956b1076e","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"1.6.3-db1-hadoop1-scala2.10","displayName":"Spark 1.6.3-db1 (Hadoop 1, Scala 2.10)","packageLabel":"spark-image-d50af1032799546b8ccbeeb76889a20c819ebc2a0e68ea20920cb30d3895d3ae","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"2.0.2-db1-scala2.10","displayName":"Spark 2.0.2-db1 (Scala 2.10)","packageLabel":"spark-image-654bdd6e9bad70079491987d853b4b7abf3b736fff099701501acaabe0e75c41","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.0.x-ubuntu15.10","displayName":"Spark 2.0 (Ubuntu 15.10, Scala 2.10, deprecated)","packageLabel":"spark-image-a659f3909d51b38d297b20532fc807ecf708cfb7440ce9b090c406ab0c1e4b7e","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"3.5.x-scala2.11","displayName":"3.5 beta (Scala 2.11)","packageLabel":"spark-image-023edce5438a58a3ac6acd2f6636a9ef738d0a9af87bcc743f6fc95a3b77633a","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"latest-experimental-scala2.11","displayName":"Latest experimental (3.6 snapshot, Scala 2.11)","packageLabel":"spark-image-126639c9cb6eb001dafcc202238c0860b9d847b9a1ed8fd619f082b5714d8641","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"3.2.x-scala2.11","displayName":"3.2 (includes Apache Spark 2.2.0, Scala 2.11)","packageLabel":"spark-image-5537926238bc55cb6cd76ee0f0789511349abead3781c4780721a845f34b5d4e","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":[]},{"key":"2.0.1-db1-scala2.10","displayName":"Spark 2.0.1-db1 (Scala 2.10)","packageLabel":"spark-image-5a13c2db3091986a4e7363006cc185c5b1108c7761ef5d0218506cf2e6643840","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.1.x-scala2.11","displayName":"Spark 2.1 (Auto-updating, Scala 2.11)","packageLabel":"spark-image-fdad9ef557700d7a8b6bde86feccbcc3c71d1acdc838b0fd299bd19956b1076e","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"2.1.0-db1-scala2.10","displayName":"Spark 2.1.0-db1 (Scala 2.10)","packageLabel":"spark-image-f0ab82a5deb7908e0d159e9af066ba05fb56e1edb35bdad41b7ad2fd62a9b546","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"3.0.x-scala2.10","displayName":"3.0 (includes Apache Spark 2.2.0, Scala 2.10)","packageLabel":"spark-image-d549f2d4a523994ecdf37e531b51d5ec7d8be51534bb0ca5322eaad28ba8f557","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"1.6.0-ubuntu15.10","displayName":"Spark 1.6.0 (Hadoop 1)","packageLabel":"spark-image-10ef758029b8c7e19cd7f4fb52fff9180d75db92ca071bd94c47f3c1171a7cb5","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"1.6.x-ubuntu15.10-hadoop2","displayName":"Spark 1.6.x (Hadoop 2)","packageLabel":"spark-image-161245e66d887cd775e23286a54bab0b146143e1289f25bd1732beac454a1561","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"2.0.0-ubuntu15.10-scala2.11","displayName":"Spark 2.0.0 (Scala 2.11)","packageLabel":"spark-image-b4ec141e751f201399f8358a82efee202560f7ed05e1a04a2ae8778f6324b909","upgradable":true,"deprecated":true,"customerVisible":false,"capabilities":[]},{"key":"2.1.0-db3-scala2.11","displayName":"Spark 2.1.0-db3 (Scala 2.11)","packageLabel":"spark-image-ccbc6b73f158e2001fc1fb8c827bfdde425d8bd6d65cb7b3269784c28bb72c16","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},{"key":"latest-rc-gpu-scala2.11","displayName":"Latest RC (3.5 GPU, Scala 2.11)","packageLabel":"spark-image-93161a84de672607bc616292a67c710ffdcbf4d5f72cb9d58b270abaa296e616","upgradable":true,"deprecated":false,"customerVisible":false,"capabilities":[]},{"key":"3.4.x-scala2.10","displayName":"3.4 (includes Apache Spark 2.2.0, Scala 2.10)","packageLabel":"spark-image-71dd3f95aa2d38fc2553ef5098fe40ee673c2562bfc3ec415b4adfbf587e8ae7","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]}],"enablePresentationMode":false,"enableClearStateAndRunAll":true,"enableTableAclsByTier":false,"enableRestrictedClusterCreation":true,"enableFeedback":true,"enableClusterAutoScaling":false,"enableUserVisibleDefaultTags":true,"defaultNumWorkers":0,"serverContinuationTimeoutMillis":10000,"jobsUnreachableThresholdMillis":60000,"driverStderrFilePrefix":"stderr","enableNotebookRefresh":false,"createTableInNotebookImportedFileLink":{"url":"https://docs.databricks.com/_static/notebooks/data-import/imported-file.html","displayName":"Imported File","workspaceFileName":"Imported File Example"},"accountsOwnerUrl":"https://accounts.cloud.databricks.com/registration.html#login","driverStdoutFilePrefix":"stdout","showDbuPricing":true,"databricksDocsBaseHostname":"docs.databricks.com","defaultNodeTypeToPricingUnitsMap":{"r3.2xlarge":2,"i3.4xlarge":4,"class-node":1,"m4.2xlarge":1.5,"r4.xlarge":1,"m4.4xlarge":3,"Standard_DS5_v2":3,"Standard_D2s_v3":0.5,"Standard_DS14":4,"r4.16xlarge":16,"Standard_DS11":0.5,"p2.8xlarge":16,"m4.10xlarge":8,"Standard_D8s_v3":1.5,"Standard_E32s_v3":8,"Standard_DS3":0.75,"Standard_DS2_v2":0.5,"r3.8xlarge":8,"r4.4xlarge":4,"dev-tier-node":1,"Standard_L8s":2,"Standard_E4s_v3":1,"Standard_D3_v2":0.75,"Standard_DS15_v2":8,"Standard_D16s_v3":3,"Standard_D5_v2":3,"Standard_E8s_v3":2,"c3.8xlarge":4,"Standard_E2s_v3":0.5,"Standard_DS3_v2":0.75,"r3.4xlarge":4,"Standard_DS4":1.5,"i2.4xlarge":6,"m4.xlarge":0.75,"r4.8xlarge":8,"Standard_H16":4,"Standard_DS14_v2":4,"r4.large":0.5,"Standard_DS12":1,"development-node":1,"i2.2xlarge":3,"g2.8xlarge":6,"i3.large":0.75,"memory-optimized":1,"m4.large":0.4,"Standard_F4s":0.5,"p2.16xlarge":24,"i3.8xlarge":8,"i3.16xlarge":16,"Standard_DS12_v2":1,"Standard_L32s":8,"Standard_D4s_v3":0.75,"Standard_DS13":2,"Standard_DS11_v2":0.5,"Standard_DS13_v2":2,"c3.2xlarge":1,"Standard_L4s":1,"Standard_F16s":2,"c4.2xlarge":1,"Standard_L16s":4,"i2.xlarge":1.5,"Standard_DS2":0.5,"compute-optimized":1,"c4.4xlarge":2,"Standard_D2_v2":0.5,"i3.2xlarge":2,"Standard_E16s_v3":4,"Standard_F8s":1,"c3.4xlarge":2,"g2.2xlarge":1.5,"p2.xlarge":2,"m4.16xlarge":12,"Standard_DS4_v2":1.5,"c4.8xlarge":4,"i3.xlarge":1,"r3.xlarge":1,"r4.2xlarge":2,"i2.8xlarge":12},"tableFilesBaseFolder":"/tables","enableSparkDocsSearch":true,"sparkHistoryServerEnabled":true,"enableEBSVolumesUI":false,"homePageWelcomeMessage":"Welcome to ","metastoreServiceRowLimit":1000000,"enableIPythonImportExport":true,"enableClusterTagsUIForJobs":true,"enableClusterTagsUI":false,"enableNotebookHistoryDiffing":true,"branch":"2.60.859","accountsLimit":3,"enableSparkEnvironmentVariables":true,"enableX509Authentication":false,"useAADLogin":false,"enableStructuredStreamingNbOptimizations":true,"enableNotebookGitBranching":true,"local":false,"enableNotebookLazyRenderWrapper":false,"enableClusterAutoScalingForJobs":true,"enableStrongPassword":false,"showReleaseNote":true,"displayDefaultContainerMemoryGB":6,"broadenedEditPermission":false,"enableNotebookCommandMode":true,"disableS3TableImport":false,"deploymentMode":"production","useSpotForWorkers":true,"removePasswordInAccountSettings":false,"preferStartTerminatedCluster":false,"enableUserInviteWorkflow":true,"createTableConnectorOptionLinks":[{"url":"https://docs.databricks.com/_static/notebooks/redshift.html","displayName":"Amazon Redshift","workspaceFileName":"Amazon Redshift Example"},{"url":"https://docs.databricks.com/_static/notebooks/structured-streaming-kinesis.html","displayName":"Amazon Kinesis","workspaceFileName":"Amazon Kinesis Example"},{"url":"https://docs.databricks.com/_static/notebooks/data-import/jdbc.html","displayName":"JDBC","workspaceFileName":"JDBC Example"},{"url":"https://docs.databricks.com/_static/notebooks/cassandra.html","displayName":"Cassandra","workspaceFileName":"Cassandra Example"},{"url":"https://docs.databricks.com/_static/notebooks/structured-streaming-etl-kafka.html","displayName":"Kafka","workspaceFileName":"Kafka Example"},{"url":"https://docs.databricks.com/_static/notebooks/redis.html","displayName":"Redis","workspaceFileName":"Redis Example"},{"url":"https://docs.databricks.com/_static/notebooks/elasticsearch.html","displayName":"Elasticsearch","workspaceFileName":"Elasticsearch Example"}],"enableStaticNotebooks":true,"sandboxForUrlSandboxFrame":"allow-scripts allow-popups allow-popups-to-escape-sandbox allow-forms","enableCssTransitions":true,"serverlessEnableElasticDisk":true,"minClusterTagKeyLength":1,"showHomepageFeaturedLinks":true,"pricingURL":"https://databricks.com/product/pricing","enableClusterEdit":true,"enableClusterAclsConfig":false,"useTempS3UrlForTableUpload":false,"notifyLastLogin":false,"enableSshKeyUIByTier":false,"enableCreateClusterOnAttach":true,"defaultAutomatedPricePerDBU":0.2,"enableNotebookGitVersioning":true,"defaultMinWorkers":2,"files":"files/","feedbackEmail":"feedback@databricks.com","enableDriverLogsUI":true,"defaultMaxWorkers":8,"enableWorkspaceAclsConfig":false,"serverlessRunPythonAsLowPrivilegeUser":false,"dropzoneMaxFileSize":2047,"enableNewClustersList":true,"enableNewDashboardViews":true,"enableJobListPermissionFilter":false,"driverLog4jFilePrefix":"log4j","enableSingleSignOn":true,"enableMavenLibraries":true,"displayRowLimit":1000,"deltaProcessingAsyncEnabled":true,"enableSparkEnvironmentVariablesUI":false,"defaultSparkVersion":{"key":"3.4.x-scala2.11","displayName":"3.4 (includes Apache Spark 2.2.0, Scala 2.11)","packageLabel":"spark-image-eaad6d9eded5a6d71516d66e25f28cfa9068b6fcd36254ca08f14b586396ae68","upgradable":true,"deprecated":false,"customerVisible":true,"capabilities":["SUPPORTS_END_TO_END_ENCRYPTION"]},"enableCustomSpotPricing":false,"enableMountAclsConfig":false,"defaultAutoterminationMin":120,"useDevTierHomePage":true,"disableExportNotebook":false,"enableClusterClone":true,"enableNotebookLineNumbers":true,"enablePublishHub":false,"notebookHubUrl":"http://hub.dev.databricks.com/","showSqlEndpoints":false,"enableNotebookDatasetInfoView":true,"defaultTagKeys":{"CLUSTER_NAME":"ClusterName","VENDOR":"Vendor","CLUSTER_TYPE":"ResourceClass","CREATOR":"Creator","CLUSTER_ID":"ClusterId"},"enableClusterAclsByTier":false,"databricksDocsBaseUrl":"https://docs.databricks.com/","azurePortalLink":"https://portal.azure.com","cloud":"AWS","disallowAddingAdmins":true,"enableSparkConfUI":true,"featureTier":"DEVELOPER_BASIC_TIER","mavenCentralSearchEndpoint":"http://search.maven.org/solrsearch/select","defaultServerlessClusterModel":{"cluster_name":"","node_type_id":"i3.2xlarge","spark_version":"latest-stable-scala2.11","num_workers":null,"enable_jdbc_auto_start":true,"custom_tags":{"ResourceClass":"Serverless"},"autoscale":{"min_workers":2,"max_workers":20},"spark_conf":{"spark.databricks.cluster.profile":"serverless","spark.databricks.repl.allowedLanguages":"sql,python","spark.databricks.acl.enabled":"false","spark.databricks.acl.sqlOnly":"false"},"aws_attributes":{"ebs_volume_count":null,"availability":"ON_DEMAND","first_on_demand":1,"ebs_volume_type":null,"spot_bid_price_percent":100,"zone_id":"us-west-2c","ebs_volume_size":null},"autotermination_minutes":0,"enable_elastic_disk":false,"default_tags":{"Vendor":"Databricks","Creator":"r.sainudiin@math.canterbury.ac.nz","ClusterName":null,"ClusterId":"<Generated after creation>"}},"enableOrgSwitcherUI":true,"bitbucketCloudBaseApiV2Url":"https://api.bitbucket.org/2.0","clustersLimit":1,"enableJdbcImport":true,"enableElasticDisk":false,"logfiles":"logfiles/","enableRelativeNotebookLinks":true,"enableMultiSelect":true,"homePageLogo":"login/databricks_logoTM_rgb_TM.svg","enableWebappSharding":true,"enableNotebookParamsEdit":true,"enableClusterDeltaUpdates":true,"enableSingleSignOnLogin":false,"separateTableForJobClusters":true,"ebsVolumeSizeLimitGB":{"GENERAL_PURPOSE_SSD":[100,4096],"THROUGHPUT_OPTIMIZED_HDD":[500,4096]},"enableMountAcls":false,"requireEmailUserName":true,"dbcFeedbackURL":"mailto:feedback@databricks.com","enableMountAclService":true,"enableStructuredDataAcls":false,"showVersion":true,"serverlessClustersByDefault":false,"enableWorkspaceAcls":false,"maxClusterTagKeyLength":127,"gitHash":"","tableAclsEnabledMap":{"spark.databricks.acl.enabled":"true","spark.databricks.acl.sqlOnly":"true"},"showWorkspaceFeaturedLinks":true,"signupUrl":"https://databricks.com/try-databricks","databricksDocsNotebookPathPrefix":"^https://docs\\.databricks\\.com/_static/notebooks/.+$","serverlessAttachEbsVolumesByDefault":false,"enableTokensConfig":false,"allowFeedbackForumAccess":true,"enableImportFromUrl":true,"allowDisplayHtmlByUrl":true,"enableTokens":false,"enableMiniClusters":true,"enableNewJobList":true,"enableDebugUI":false,"enableStreamingMetricsDashboard":true,"allowNonAdminUsers":true,"enableSingleSignOnByTier":false,"enableJobsRetryOnTimeout":true,"loginLogo":"/login/databricks_logoTM_rgb_TM.svg","useStandardTierUpgradeTooltips":true,"staticNotebookResourceUrl":"https://databricks-prod-cloudfront.cloud.databricks.com/static/467e3564399e98c628437b8bb4b93281958239d3482861867f6e49fb92858fe3/","enableSpotClusterType":true,"enableSparkPackages":true,"checkAadUserInWorkspaceTenant":false,"dynamicSparkVersions":true,"useIframeForHtmlResult":false,"enableClusterTagsUIByTier":false,"enableNotebookHistoryUI":true,"addWhitespaceAfterLastNotebookCell":true,"enableClusterLoggingUI":true,"enableDatabaseDropdownInTableUI":true,"showDebugCounters":false,"enableInstanceProfilesUI":false,"enableFolderHtmlExport":true,"homepageFeaturedLinks":[{"linkURI":"https://docs.databricks.com/_static/notebooks/gentle-introduction-to-apache-spark.html","displayName":"Introduction to Apache Spark on Databricks","icon":"img/home/Python_icon.svg"},{"linkURI":"https://docs.databricks.com/_static/notebooks/databricks-for-data-scientists.html","displayName":"Databricks for Data Scientists","icon":"img/home/Scala_icon.svg"},{"linkURI":"https://docs.databricks.com/_static/notebooks/structured-streaming-python.html","displayName":"Introduction to Structured Streaming","icon":"img/home/Python_icon.svg"}],"enableClusterStart":false,"maxImportFileVersion":5,"enableEBSVolumesUIByTier":false,"singleSignOnComingSoon":false,"enableTableAclService":false,"removeSubCommandCodeWhenExport":true,"upgradeURL":"https://accounts.cloud.databricks.com/registration.html#login","maxAutoterminationMinutes":10000,"showResultsFromExternalSearchEngine":true,"autoterminateClustersByDefault":true,"notebookLoadingBackground":"#fff","sshContainerForwardedPort":2200,"enableServerAutoComplete":true,"enableStaticHtmlImport":true,"enableInstanceProfilesByTier":false,"showForgotPasswordLink":true,"defaultMemoryPerContainerMB":6000,"enablePresenceUI":true,"minAutoterminationMinutes":10,"accounts":true,"useOnDemandClustersByDefault":true,"useFramedStaticNotebooks":false,"enableNewProgressReportUI":true,"enableAutoCreateUserUI":true,"defaultCoresPerContainer":4,"showTerminationReason":true,"enableNewClustersGet":true,"showPricePerDBU":false,"showSqlProxyUI":true,"enableNotebookErrorHighlighting":true};</script>
<script>var __DATABRICKS_NOTEBOOK_MODEL = {"version":"NotebookV1","origId":412349123644857,"name":"054_DLbyABr_03a-BatchTensorFlowWithMatrices","language":"python","commands":[{"version":"CommandV1","origId":855670441125163,"guid":"4f72479c-766d-4272-b91e-cfbacdd73c9e","subtype":"command","commandType":"auto","position":14.78125,"command":"%md\n\n# [SDS-2.2, Scalable Data Science](https://lamastex.github.io/scalable-data-science/sds/2/2/)\n\nThis is used in a non-profit educational setting with kind permission of [Adam Breindel](https://www.linkedin.com/in/adbreind).\nThis is not licensed by Adam for use in a for-profit setting. Please contact Adam directly at `adbreind@gmail.com` to request or report such use cases or abuses. \nA few minor modifications and additional mathematical statistical pointers have been added by Raazesh Sainudiin when teaching PhD students in Uppsala University.","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"74841d91-a8c6-43f5-b236-f85b30e83f3b"},{"version":"CommandV1","origId":412349123644858,"guid":"5829dadd-0979-4cba-a540-27e4eda66db7","subtype":"command","commandType":"auto","position":29.5625,"command":"%md #### We can also implement the model with mini-batches -- this will let us see matrix ops in action:\n\n(N.b., feed_dict is intended for small data / experimentation. For more info on ingesting data at scale, see https://www.tensorflow.org/api_guides/python/reading_data)","commandVersion":0,"state":"error","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"3e4d136a-2e5e-4382-8c07-8c0ef128aaeb"},{"version":"CommandV1","origId":412349123644859,"guid":"8869844e-6125-45c7-be24-5fe53c086248","subtype":"command","commandType":"auto","position":29.59375,"command":"# we know these params, but we're making TF learn them\n\nREAL_SLOPE_X1 = 2 # slope along axis 1 (x-axis)\nREAL_SLOPE_X2 = 3 # slope along axis 2 (y-axis)\nREAL_INTERCEPT = 5 # intercept along axis 3 (z-axis), think of (x,y,z) axes in the usual way","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"></div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1512541853977,"submitTime":1512541853958,"finishTime":1512541854018,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"7d835f8e-58aa-45a1-8133-095d9e23d992"},{"version":"CommandV1","origId":412349123644860,"guid":"7ea83e4a-cb9c-48c3-a69e-65f8bfe24a67","subtype":"command","commandType":"auto","position":29.609375,"command":"import numpy as np\n# GENERATE a batch of true data, with a little Gaussian noise added\n\ndef make_mini_batch(size=10):\n  X = np.random.rand(size, 2) # \n  Y = np.matmul(X, [REAL_SLOPE_X1, REAL_SLOPE_X2]) + REAL_INTERCEPT + 0.2 * np.random.randn(size) \n  return X.reshape(size,2), Y.reshape(size,1)","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"></div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1512542017502,"submitTime":1512542017483,"finishTime":1512542017579,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"a582ba46-e746-4918-8650-2daae6febe6f"},{"version":"CommandV1","origId":752893222255168,"guid":"2f34841c-1178-4902-a951-fa538b2eb082","subtype":"command","commandType":"auto","position":29.6171875,"command":"%md\nTo digest what's going on inside the function above, let's take it step by step.","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"35f101fb-2a24-46f2-9e5c-99355a07eeea"},{"version":"CommandV1","origId":752893222255167,"guid":"cd07b1c8-d2e7-4189-80ad-c070d412f20c","subtype":"command","commandType":"auto","position":29.625,"command":" Xex = np.random.rand(10, 2) # Xex is simulating PRNGs from independent Uniform [0,1] RVs\n Xex # visualize these as 10 orddered pairs of points in the x-y plane that makes up our x-axis and y-axis (or x1 and x2 axes)","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"><span class=\"ansired\">Out[</span><span class=\"ansired\">14</span><span class=\"ansired\">]: </span>\narray([[ 0.68729439,  0.58462379],\n       [ 0.93698634,  0.42744602],\n       [ 0.08603721,  0.67466094],\n       [ 0.17160026,  0.71457899],\n       [ 0.72199128,  0.72235838],\n       [ 0.58633688,  0.14721157],\n       [ 0.27425931,  0.60181525],\n       [ 0.5962165 ,  0.51132706],\n       [ 0.6869326 ,  0.28285958],\n       [ 0.9634012 ,  0.21305557]])\n</div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":"<span class=\"ansired\">TypeError</span>: rand() got an unexpected keyword argument &apos;s&apos;","error":"<div class=\"ansiout\"><span class=\"ansired\">---------------------------------------------------------------------------</span>\n<span class=\"ansired\">TypeError</span>                                 Traceback (most recent call last)\n<span class=\"ansigreen\">&lt;command-752893222255167&gt;</span> in <span class=\"ansicyan\">&lt;module&gt;</span><span class=\"ansiblue\">()</span>\n<span class=\"ansigreen\">----&gt; 1</span><span class=\"ansiyellow\"> </span>Xex <span class=\"ansiyellow\">=</span> np<span class=\"ansiyellow\">.</span>random<span class=\"ansiyellow\">.</span>rand<span class=\"ansiyellow\">(</span><span class=\"ansicyan\">10</span><span class=\"ansiyellow\">,</span> <span class=\"ansicyan\">2</span><span class=\"ansiyellow\">,</span> s<span class=\"ansiyellow\">=</span><span class=\"ansicyan\">123</span><span class=\"ansiyellow\">)</span> <span class=\"ansired\"># Xex is simulating PRNGs from independent Uniform [0,1] RVs</span><span class=\"ansiyellow\"></span>\n<span class=\"ansigreen\">      2</span> Xex <span class=\"ansired\"># visualize these as 10 orddered pairs of points in the x-y plane that makes up our x-axis and y-axis (or x1 and x2 axes)</span><span class=\"ansiyellow\"></span>\n\n<span class=\"ansired\">TypeError</span>: rand() got an unexpected keyword argument &apos;s&apos;</div>","workflows":[],"startTime":1512542359097,"submitTime":1512542359080,"finishTime":1512542359138,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"28a8cf69-9311-4eb6-8c5c-6eee4215f127"},{"version":"CommandV1","origId":752893222255169,"guid":"6caf0fb6-5160-4f95-a667-2d061fb24469","subtype":"command","commandType":"auto","position":29.65625,"command":"Yex = np.matmul(Xex, [REAL_SLOPE_X1, REAL_SLOPE_X2]) # + REAL_INTERCEPT + 0.2 * np.random.randn(size) \nYex","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"><span class=\"ansired\">Out[</span><span class=\"ansired\">15</span><span class=\"ansired\">]: </span>\narray([ 3.12846017,  3.15631072,  2.19605725,  2.4869375 ,  3.61105769,\n        1.61430847,  2.35396437,  2.72641418,  2.22244393,  2.56596912])\n</div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":"<span class=\"ansired\">NameError</span>: name &apos;Xex&apos; is not defined","error":"<div class=\"ansiout\"><span class=\"ansired\">---------------------------------------------------------------------------</span>\n<span class=\"ansired\">NameError</span>                                 Traceback (most recent call last)\n<span class=\"ansigreen\">&lt;command-752893222255169&gt;</span> in <span class=\"ansicyan\">&lt;module&gt;</span><span class=\"ansiblue\">()</span>\n<span class=\"ansigreen\">----&gt; 1</span><span class=\"ansiyellow\"> </span>Yex <span class=\"ansiyellow\">=</span> np<span class=\"ansiyellow\">.</span>matmul<span class=\"ansiyellow\">(</span>Xex<span class=\"ansiyellow\">,</span> <span class=\"ansiyellow\">[</span>REAL_SLOPE_X1<span class=\"ansiyellow\">,</span> REAL_SLOPE_X2<span class=\"ansiyellow\">]</span><span class=\"ansiyellow\">)</span> <span class=\"ansired\"># + REAL_INTERCEPT + 0.2 * np.random.randn(size)</span><span class=\"ansiyellow\"></span>\n<span class=\"ansigreen\">      2</span> Yex<span class=\"ansiyellow\"></span>\n\n<span class=\"ansired\">NameError</span>: name &apos;Xex&apos; is not defined</div>","workflows":[],"startTime":1512542365395,"submitTime":1512542365375,"finishTime":1512542365468,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"8cec7e5d-49ef-474e-b446-6e0721a81e8e"},{"version":"CommandV1","origId":752893222255171,"guid":"40d2d4df-98b0-4933-a7c7-adfe214984e4","subtype":"command","commandType":"auto","position":29.6640625,"command":"%md\nThe first entry in Yex is obtained as follows (change the numbers in the produc below if you reevaluated the cells above) and geometrically it is the location in z-axis of the plane with slopes given by REAL_SLOPE_X1 in the x-axis and REAL_SLOPE_X2 in the y-aixs with intercept 0 at the point in the x-y or x1-x2 plane given by (0.68729439,  0.58462379).","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"ae17ccf9-97db-4daf-8f59-c9f1695b186d"},{"version":"CommandV1","origId":752893222255170,"guid":"b8903aa3-53d9-4e5d-9673-6ad1c9a0221b","subtype":"command","commandType":"auto","position":29.671875,"command":"0.68729439*REAL_SLOPE_X1 +  0.58462379*REAL_SLOPE_X2 ","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"><span class=\"ansired\">Out[</span><span class=\"ansired\">16</span><span class=\"ansired\">]: </span>3.12846015\n</div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1512542411025,"submitTime":1512542411004,"finishTime":1512542411102,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"26d3edf2-c1c3-4ecd-b929-7a8bd7e5610b"},{"version":"CommandV1","origId":752893222255172,"guid":"c308f217-d9d5-4ddd-b65c-8a11a692fd1e","subtype":"command","commandType":"auto","position":29.6796875,"command":"%md\nThe next steps are adding an intercept term to translate the plane in the z-axis and then a scaled (the multiplication by 0.2 here) gaussian noise from independetly drawn pseudo-random samples from the standard normal or Normal(0,1) random variable via `np.random.randn(size)`.","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"12181293-508a-433a-8550-a557d87cab12"},{"version":"CommandV1","origId":752893222255173,"guid":"78e7b728-00b2-4d70-9e71-c4ae977bf4e2","subtype":"command","commandType":"auto","position":29.68359375,"command":"Yex = np.matmul(Xex, [REAL_SLOPE_X1, REAL_SLOPE_X2]) + REAL_INTERCEPT # + 0.2 * np.random.randn(10) \nYex","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"><span class=\"ansired\">Out[</span><span class=\"ansired\">19</span><span class=\"ansired\">]: </span>\narray([ 8.12846017,  8.15631072,  7.19605725,  7.4869375 ,  8.61105769,\n        6.61430847,  7.35396437,  7.72641418,  7.22244393,  7.56596912])\n</div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1512542966242,"submitTime":1512542966221,"finishTime":1512542966283,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"808940ff-45cf-4f39-9a39-e147b90b1361"},{"version":"CommandV1","origId":752893222255174,"guid":"f17ae6d5-1e60-4f3f-b558-faeca96b6f4e","subtype":"command","commandType":"auto","position":29.685546875,"command":"Yex = np.matmul(Xex, [REAL_SLOPE_X1, REAL_SLOPE_X2])  + REAL_INTERCEPT + 0.2 * np.random.randn(10) \nYex # note how each entry in Yex is jiggled independently a bit by 0.2 * np.random.randn()","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"><span class=\"ansired\">Out[</span><span class=\"ansired\">20</span><span class=\"ansired\">]: </span>\narray([ 8.54725608,  8.21366699,  7.55268465,  7.34539416,  8.36644074,\n        6.42752603,  7.55499568,  7.71093193,  7.32762635,  7.29992345])\n</div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":"<span class=\"ansired\">NameError</span>: name &apos;size&apos; is not defined","error":"<div class=\"ansiout\"><span class=\"ansired\">---------------------------------------------------------------------------</span>\n<span class=\"ansired\">NameError</span>                                 Traceback (most recent call last)\n<span class=\"ansigreen\">&lt;command-752893222255174&gt;</span> in <span class=\"ansicyan\">&lt;module&gt;</span><span class=\"ansiblue\">()</span>\n<span class=\"ansigreen\">----&gt; 1</span><span class=\"ansiyellow\"> </span>Yex <span class=\"ansiyellow\">=</span> np<span class=\"ansiyellow\">.</span>matmul<span class=\"ansiyellow\">(</span>Xex<span class=\"ansiyellow\">,</span> <span class=\"ansiyellow\">[</span>REAL_SLOPE_X1<span class=\"ansiyellow\">,</span> REAL_SLOPE_X2<span class=\"ansiyellow\">]</span><span class=\"ansiyellow\">)</span>  <span class=\"ansiyellow\">+</span> REAL_INTERCEPT <span class=\"ansiyellow\">+</span> <span class=\"ansicyan\">0.2</span> <span class=\"ansiyellow\">*</span> np<span class=\"ansiyellow\">.</span>random<span class=\"ansiyellow\">.</span>randn<span class=\"ansiyellow\">(</span>size<span class=\"ansiyellow\">)</span><span class=\"ansiyellow\"></span>\n<span class=\"ansigreen\">      2</span> Yex<span class=\"ansiyellow\"></span>\n\n<span class=\"ansired\">NameError</span>: name &apos;size&apos; is not defined</div>","workflows":[],"startTime":1512542985088,"submitTime":1512542985066,"finishTime":1512542985112,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"25464e2e-d77d-4eda-b784-b3c5170f26e9"},{"version":"CommandV1","origId":752893222255175,"guid":"353b1403-be41-4e9d-bb5c-50d7b9480a8b","subtype":"command","commandType":"auto","position":29.6865234375,"command":"%md\nThus we can now fully appreciate what is going on in `make_mini_batch`. This is meant to substitute for pulling random sub-samples of batches of the real data during stochastic gradient descent.","commandVersion":0,"state":"finished","results":null,"errorSummary":null,"error":null,"workflows":[],"startTime":0,"submitTime":0,"finishTime":0,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"182f4649-a2d2-42e4-9874-486546295472"},{"version":"CommandV1","origId":412349123644861,"guid":"452cf182-b314-4c39-8559-0beb2c02a352","subtype":"command","commandType":"auto","position":29.6875,"command":"make_mini_batch() # our mini-batch of Xx and Ys","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"><span class=\"ansired\">Out[</span><span class=\"ansired\">21</span><span class=\"ansired\">]: </span>\n(array([[ 0.76270993,  0.21237438],\n        [ 0.93630169,  0.63585941],\n        [ 0.65131407,  0.62564024],\n        [ 0.50704891,  0.80775216],\n        [ 0.45825114,  0.9387936 ],\n        [ 0.65822646,  0.28507217],\n        [ 0.78834033,  0.43172133],\n        [ 0.85462969,  0.14751868],\n        [ 0.05519411,  0.81125067],\n        [ 0.10222417,  0.09151233]]), array([[ 7.68758883],\n        [ 8.75889251],\n        [ 8.07336849],\n        [ 8.23691867],\n        [ 8.90827379],\n        [ 6.93907587],\n        [ 7.52369029],\n        [ 7.00021765],\n        [ 7.60460715],\n        [ 5.65254595]]))\n</div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":"<span class=\"ansired\">NameError</span>: global name &apos;np&apos; is not defined","error":"<div class=\"ansiout\"><span class=\"ansired\">---------------------------------------------------------------------------</span>\n<span class=\"ansired\">NameError</span>                                 Traceback (most recent call last)\n<span class=\"ansigreen\">&lt;command-412349123644861&gt;</span> in <span class=\"ansicyan\">&lt;module&gt;</span><span class=\"ansiblue\">()</span>\n<span class=\"ansigreen\">----&gt; 1</span><span class=\"ansiyellow\"> </span>make_mini_batch<span class=\"ansiyellow\">(</span><span class=\"ansiyellow\">)</span><span class=\"ansiyellow\"></span>\n\n<span class=\"ansigreen\">&lt;command-412349123644860&gt;</span> in <span class=\"ansicyan\">make_mini_batch</span><span class=\"ansiblue\">(size)</span>\n<span class=\"ansigreen\">      2</span> <span class=\"ansiyellow\"></span>\n<span class=\"ansigreen\">      3</span> <span class=\"ansigreen\">def</span> make_mini_batch<span class=\"ansiyellow\">(</span>size<span class=\"ansiyellow\">=</span><span class=\"ansicyan\">10</span><span class=\"ansiyellow\">)</span><span class=\"ansiyellow\">:</span><span class=\"ansiyellow\"></span>\n<span class=\"ansigreen\">----&gt; 4</span><span class=\"ansiyellow\">   </span>X <span class=\"ansiyellow\">=</span> np<span class=\"ansiyellow\">.</span>random<span class=\"ansiyellow\">.</span>rand<span class=\"ansiyellow\">(</span>size<span class=\"ansiyellow\">,</span> <span class=\"ansicyan\">2</span><span class=\"ansiyellow\">)</span><span class=\"ansiyellow\"></span>\n<span class=\"ansigreen\">      5</span>   Y <span class=\"ansiyellow\">=</span> np<span class=\"ansiyellow\">.</span>matmul<span class=\"ansiyellow\">(</span>X<span class=\"ansiyellow\">,</span> <span class=\"ansiyellow\">[</span>REAL_SLOPE_X1<span class=\"ansiyellow\">,</span> REAL_SLOPE_X2<span class=\"ansiyellow\">]</span><span class=\"ansiyellow\">)</span> <span class=\"ansiyellow\">+</span> REAL_INTERCEPT <span class=\"ansiyellow\">+</span> <span class=\"ansicyan\">0.2</span> <span class=\"ansiyellow\">*</span> np<span class=\"ansiyellow\">.</span>random<span class=\"ansiyellow\">.</span>randn<span class=\"ansiyellow\">(</span>size<span class=\"ansiyellow\">)</span><span class=\"ansiyellow\"></span>\n<span class=\"ansigreen\">      6</span>   <span class=\"ansigreen\">return</span> X<span class=\"ansiyellow\">.</span>reshape<span class=\"ansiyellow\">(</span>size<span class=\"ansiyellow\">,</span><span class=\"ansicyan\">2</span><span class=\"ansiyellow\">)</span><span class=\"ansiyellow\">,</span> Y<span class=\"ansiyellow\">.</span>reshape<span class=\"ansiyellow\">(</span>size<span class=\"ansiyellow\">,</span><span class=\"ansicyan\">1</span><span class=\"ansiyellow\">)</span><span class=\"ansiyellow\"></span>\n\n<span class=\"ansired\">NameError</span>: global name &apos;np&apos; is not defined</div>","workflows":[],"startTime":1512543099899,"submitTime":1512543099876,"finishTime":1512543099975,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"a93bff5c-7409-425b-aff7-1d7958b747c2"},{"version":"CommandV1","origId":412349123644862,"guid":"5776644f-d527-45ab-9f40-a25d9a97198c","subtype":"command","commandType":"auto","position":29.75,"command":"import tensorflow as tf\n\n\nbatch = 5 # size of batch\n\ntf.reset_default_graph() # this is important to do before you do something new in TF\n\n# we will work with single floating point precision and this is specified in the tf.float32 type argument to each tf object/method\nx = tf.placeholder(tf.float32, shape=(batch, 2)) # placeholder node for the pairs of x variables (predictors) in batches of size batch\nx_aug = tf.concat( (x, tf.ones((batch, 1))), 1 ) # x_aug is a concatenation of a vector of 1`s along the first dimension\n\ny = tf.placeholder(tf.float32, shape=(batch, 1)) # placeholder node for the univariate response y with batch many rows and 1 column\nmodel_params = tf.get_variable(\"model_params\", [3,1]) # these are the x1 slope, x2 slope and the intercept (3 rows and 1 column)\ny_model = tf.matmul(x_aug, model_params) # our two-factor regression model is defined by this matrix multiplication\n# note that the noise is formally part of the model and what we are actually modeling is the mean response...\n\nerror = tf.reduce_sum(tf.square(y - y_model))/batch # this is mean square error where the sum is computed by a reduce call on addition\n\ntrain_op = tf.train.GradientDescentOptimizer(0.02).minimize(error) # learning rate is set to 0.02\n\ninit = tf.global_variables_initializer() # our way into running the TF session\n\nerrors = [] # list to track errors over iterations\n\nwith tf.Session() as session:\n    session.run(init)    \n    for i in range(500):\n      x_data, y_data = make_mini_batch(batch) # simulate the mini-batch of data x1,x2 and response y with noise\n      _, error_val = session.run([train_op, error], feed_dict={x: x_data, y: y_data})\n      errors.append(error_val)\n\n    out = session.run(model_params)\n    print(out)","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\">[[ 2.37420893]\n [ 2.94586873]\n [ 4.8277688 ]]\n</div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1512543960059,"submitTime":1512543960039,"finishTime":1512543961172,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"e59171b9-701d-4c63-8f08-f247233d9b17"},{"version":"CommandV1","origId":752893222255176,"guid":"6cbf5e33-2550-4b17-b161-b686d1fcfa9b","subtype":"command","commandType":"auto","position":29.8125,"command":"REAL_SLOPE_X1, REAL_SLOPE_X2, REAL_INTERCEPT # compare with rue parameter values - it's not too far from the estimates","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"><span class=\"ansired\">Out[</span><span class=\"ansired\">23</span><span class=\"ansired\">]: </span>(2, 3, 5)\n</div>","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1512543996958,"submitTime":1512543996938,"finishTime":1512543997031,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"a0b95037-b35f-4fc1-848c-348317f0df80"},{"version":"CommandV1","origId":412349123644863,"guid":"529ae8c8-96db-4328-b1b9-becf58613152","subtype":"command","commandType":"auto","position":29.875,"command":"import matplotlib.pyplot as plt\n\nfig, ax = plt.subplots()\nfig.set_size_inches((4,3))\nplt.plot(errors)\ndisplay(fig)","commandVersion":0,"state":"finished","results":{"type":"image","data":"data:image/png;base64,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","arguments":{},"addedWidgets":{},"removedWidgets":[],"datasetInfos":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1512544055792,"submitTime":1512544055771,"finishTime":1512544058643,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"","showCommandTitle":false,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"1fdeb23c-dd5b-4475-abb5-e621220eeb57"}],"dashboards":[],"guid":"6ed7aa0b-103a-4a4b-8e53-d7255cdba29a","globalVars":{},"iPythonMetadata":{"nbformat":4,"IPythonMetadata":{"kernelspec":{"display_name":"Python 3","language":"python","name":"python3"},"language_info":{"mimetype":"text/x-python","name":"python","pygments_lexer":"ipython3","codemirror_mode":{"name":"ipython","version":3},"version":"3.4.5","nbconvert_exporter":"python","file_extension":".py"}}},"inputWidgets":{}};</script>
<script
 src="https://databricks-prod-cloudfront.cloud.databricks.com/static/467e3564399e98c628437b8bb4b93281958239d3482861867f6e49fb92858fe3/js/notebook-main.js"
 onerror="window.mainJsLoadError = true;"></script>
</head>
<body>
  <script>
if (window.mainJsLoadError) {
  var u = 'https://databricks-prod-cloudfront.cloud.databricks.com/static/467e3564399e98c628437b8bb4b93281958239d3482861867f6e49fb92858fe3/js/notebook-main.js';
  var b = document.getElementsByTagName('body')[0];
  var c = document.createElement('div');
  c.innerHTML = ('<h1>Network Error</h1>' +
    '<p><b>Please check your network connection and try again.</b></p>' +
    '<p>Could not load a required resource: ' + u + '</p>');
  c.style.margin = '30px';
  c.style.padding = '20px 50px';
  c.style.backgroundColor = '#f5f5f5';
  c.style.borderRadius = '5px';
  b.appendChild(c);
}
</script>
</body>
</html>
